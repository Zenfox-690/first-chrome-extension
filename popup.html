<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Toolkit</title>
  <link rel="stylesheet" href="style.css">

  <!-- Content Security Policy for Manifest V3 -->
  <meta http-equiv="Content-Security-Policy"
        content="
          default-src 'self';
          script-src 'self';
          style-src 'self' 'unsafe-inline';
          img-src 'self' data:;
          connect-src 'self' https://*;
        ">
</head>
<body>
  <div class="popup-header">
    <h1>Toolkit</h1>
    <button id="openSettingsBtn" aria-label="Open Settings">⚙️</button>
  </div>

  <!-- Dark Mode Toggle -->
  <div id="darkModeControl">
    <label><input type="checkbox" id="darkModeToggle"> Dark Mode</label>
  </div>

  <!-- Brightness (Dim) Control -->
  <div id="brightnessControl">
    <label>Dim Screen: <span id="dimValue">0</span></label>
    <input type="range" id="dimSlider" min="0" max="1" step="0.01" aria-label="Dim screen slider">
  </div>

  <!-- Video Speed Control -->
  <div id="speedControl">
    <label>Video Speed: <span id="speedValue">1</span>x</label>
    <input type="range" id="speedSlider" min="0.25" max="8" step="0.1" aria-label="Video speed slider">
  </div>

  <button id="resetBtn" aria-label="Reset settings to default">Reset Settings</button>

  <!-- Quick Note Section -->
  <div id="quickNoteSection">
    <button id="toggleQuickNote" aria-label="Toggle Quick Note">📝 Quick Note</button>
    <textarea id="quickNoteTextarea" placeholder="Note for this site..." style="display:none;"></textarea>
  </div>

  <!-- Dropdown for advanced features -->
  <div id="dropdownArrow" role="button" tabindex="0" aria-label="Toggle extra options">▼</div>
  <div id="dropdownMenu" class="dropdown-menu">
    <button id="exportPDFBtn" aria-label="Save images as PDF">Save Images as PDF</button>
    <button id="clearCacheBtn" aria-label="Clear cache and cookies">Clear Cache & Cookies</button>
    <button id="changeTitleBtn" aria-label="Change page title">Change Page Title</button>
    <button id="saveSessionBtn" aria-label="Save session settings">Save Session</button>
    <button id="loadSessionBtn" aria-label="Load session settings">Load Session</button>
  </div>

  <!-- Toast container -->
  <div id="toastContainer"></div>

  <script src="popup.js"></script>
</body>
</html>
